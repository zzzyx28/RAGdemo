# ä¼ä¸šçŸ¥è¯†å›¾è°±åŠ©æ‰‹ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯çš„ä¼ä¸šçŸ¥è¯†å›¾è°±åŠ©æ‰‹ç³»ç»Ÿï¼Œæ”¯æŒç”¨æˆ·è®¤è¯ã€çŸ¥è¯†åº“ç®¡ç†å’Œæ™ºèƒ½é—®ç­”åŠŸèƒ½ã€‚

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªå‰åç«¯åˆ†ç¦»çš„ä¼ä¸šçº§çŸ¥è¯†åŠ©æ‰‹ç³»ç»Ÿï¼Œé‡‡ç”¨ Flask + Vue 3 æŠ€æœ¯æ ˆæ„å»ºã€‚ç³»ç»Ÿæ”¯æŒç”¨æˆ·æ³¨å†Œç™»å½•ã€çŸ¥è¯†åº“æ–‡ä»¶ä¸Šä¼ ç®¡ç†ï¼Œä»¥åŠåŸºäºå‘é‡æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠŸèƒ½ã€‚

### æ ¸å¿ƒåŠŸèƒ½

- ğŸ” **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**ï¼šæ”¯æŒç”¨æˆ·æ³¨å†Œã€ç™»å½•ï¼Œä½¿ç”¨ JWT Token è¿›è¡Œèº«ä»½éªŒè¯
- ğŸ“š **çŸ¥è¯†åº“ç®¡ç†**ï¼šæ”¯æŒå¤šç§æ ¼å¼æ–‡ä»¶ä¸Šä¼ ï¼ˆtxt, pdf, md, doc, docx, csvï¼‰ï¼Œæ–‡ä»¶åˆ—è¡¨æŸ¥çœ‹å’Œåˆ é™¤
- ğŸ’¬ **æ™ºèƒ½é—®ç­”**ï¼šæ”¯æŒ RAG æ¨¡å¼å’Œé RAG æ¨¡å¼çš„æµå¼èŠå¤©ï¼Œæä¾›æ‰“å­—æœºæ•ˆæœ
- ğŸ¨ **ç°ä»£åŒ– UI**ï¼šåŸºäº Vuetify 3 çš„ Material Design ç•Œé¢è®¾è®¡

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**ï¼šFlask 3.0+
- **æ•°æ®åº“**ï¼šSQLiteï¼ˆSQLAlchemy ORMï¼‰
- **è®¤è¯**ï¼šFlask-JWT-Extended
- **å‘é‡æ•°æ®åº“**ï¼šChromaDB
- **è·¨åŸŸ**ï¼šFlask-CORS

### å‰ç«¯
- **æ¡†æ¶**ï¼šVue 3 + TypeScript
- **UI ç»„ä»¶åº“**ï¼šVuetify 3
- **è·¯ç”±**ï¼šVue Router 4
- **æ„å»ºå·¥å…·**ï¼šVite
- **åŒ…ç®¡ç†å™¨**ï¼špnpm

## ğŸ“ é¡¹ç›®ç»“æ„

```
demo1/
â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/            # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/       # è®¤è¯ç›¸å…³è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ core/       # æ ¸å¿ƒåŠŸèƒ½è·¯ç”±ï¼ˆèŠå¤©ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ kb/         # çŸ¥è¯†åº“ç®¡ç†è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ config.py       # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ extensions.py   # Flask æ‰©å±•åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ middleware/     # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ instance/           # å®ä¾‹æ–‡ä»¶å¤¹ï¼ˆæ•°æ®åº“ã€ChromaDBï¼‰
â”‚   â”œâ”€â”€ logs/               # æ—¥å¿—æ–‡ä»¶
â”‚   â”œâ”€â”€ uploads/            # ä¸Šä¼ æ–‡ä»¶å­˜å‚¨
â”‚   â””â”€â”€ run.py              # åº”ç”¨å¯åŠ¨å…¥å£
â”‚
â”œâ”€â”€ frontend/               # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.vue    # ä¸»é¡µï¼ˆèŠå¤©ç•Œé¢ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.vue   # ç™»å½•é¡µ
â”‚   â”‚   â”‚   â””â”€â”€ Register.vue # æ³¨å†Œé¡µ
â”‚   â”‚   â”œâ”€â”€ plugins/        # æ’ä»¶é…ç½®
â”‚   â”‚   â”œâ”€â”€ router/         # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ styles/         # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.mts
â”‚
â”œâ”€â”€ requirements.txt        # Python ä¾èµ–
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- Node.js 16+
- pnpmï¼ˆæ¨èï¼‰æˆ– npm/yarn

### åç«¯è®¾ç½®

1. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**ï¼ˆæ¨èï¼‰

```bash
cd backend
python -m venv venv

# Windows
venv\Scripts\activate

# Linux/Mac
source venv/bin/activate
```

2. **å®‰è£…ä¾èµ–**

```bash
pip install -r ../requirements.txt
```

3. **é…ç½®ç¯å¢ƒå˜é‡**ï¼ˆå¯é€‰ï¼‰

åœ¨ `backend` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
FLASK_ENV=development
JWT_SECRET_KEY=your-secret-key-here
DATABASE_URL=sqlite:///demo.db
CORS_ORIGINS=http://localhost:5173,http://localhost:3000
```

4. **å¯åŠ¨åç«¯æœåŠ¡**

```bash
cd backend
python run.py
```

åç«¯æœåŠ¡å°†åœ¨ `http://localhost:5000` å¯åŠ¨ã€‚

### å‰ç«¯è®¾ç½®

1. **å®‰è£…ä¾èµ–**

```bash
cd frontend
pnpm install
# æˆ–
npm install
```

2. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

```bash
pnpm dev
# æˆ–
npm run dev
```

å‰ç«¯åº”ç”¨å°†åœ¨ `http://localhost:5173` å¯åŠ¨ã€‚

## ğŸ“¡ API æ¥å£

### è®¤è¯æ¥å£

- `POST /api/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/login` - ç”¨æˆ·ç™»å½•
- `GET /api/profile` - è·å–ç”¨æˆ·ä¿¡æ¯ï¼ˆéœ€è¦è®¤è¯ï¼‰

### çŸ¥è¯†åº“æ¥å£

- `GET /api/kb-info` - è·å–çŸ¥è¯†åº“ä¿¡æ¯
- `POST /api/upload` - ä¸Šä¼ æ–‡ä»¶
- `POST /api/delete` - åˆ é™¤æ–‡ä»¶

### èŠå¤©æ¥å£

- `POST /api/chat` - å‘é€èŠå¤©æ¶ˆæ¯ï¼ˆéœ€è¦è®¤è¯ï¼Œæµå¼å“åº”ï¼‰

**è¯·æ±‚ç¤ºä¾‹**ï¼š
```json
{
  "message": "ä½ å¥½",
  "use_rag": true
}
```

## ğŸ”§ é…ç½®è¯´æ˜

### åç«¯é…ç½®

ä¸»è¦é…ç½®æ–‡ä»¶ï¼š`backend/app/config.py`

- **æ•°æ®åº“**ï¼šé»˜è®¤ä½¿ç”¨ SQLiteï¼Œæ•°æ®åº“æ–‡ä»¶å­˜å‚¨åœ¨ `backend/instance/` ç›®å½•
- **JWT**ï¼šToken æœ‰æ•ˆæœŸé»˜è®¤ 24 å°æ—¶
- **æ–‡ä»¶ä¸Šä¼ **ï¼šæœ€å¤§ 10MBï¼Œæ”¯æŒ txt, pdf, md, doc, docx, csv æ ¼å¼
- **CORS**ï¼šé»˜è®¤å…è®¸ `http://localhost:5173` å’Œ `http://localhost:3000`

### å‰ç«¯é…ç½®

ä¸»è¦é…ç½®æ–‡ä»¶ï¼š`frontend/vite.config.mts`

- **å¼€å‘æœåŠ¡å™¨**ï¼šé»˜è®¤ç«¯å£ 5173
- **API ä»£ç†**ï¼šå¯åœ¨ `vite.config.mts` ä¸­é…ç½®ä»£ç†åˆ°åç«¯

## ğŸ“ å¼€å‘è¯´æ˜

### æ•°æ®åº“åˆå§‹åŒ–

åº”ç”¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨ã€‚å¦‚éœ€é‡ç½®æ•°æ®åº“ï¼Œåˆ é™¤ `backend/instance/demo.db` æ–‡ä»¶å³å¯ã€‚

### æ—¥å¿—

- å¼€å‘ç¯å¢ƒï¼šæ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°
- ç”Ÿäº§ç¯å¢ƒï¼šæ—¥å¿—æ–‡ä»¶å­˜å‚¨åœ¨ `backend/logs/app.log`

### å‘é‡æ•°æ®åº“

ChromaDB æ•°æ®å­˜å‚¨åœ¨ `backend/instance/chroma_db/` ç›®å½•ã€‚

## ğŸ§ª æµ‹è¯•

### åç«¯æµ‹è¯•

```bash
cd backend
pytest
```

### å‰ç«¯æµ‹è¯•

```bash
cd frontend
pnpm test
```

## ğŸ“¦ æ„å»ºéƒ¨ç½²

### å‰ç«¯æ„å»º

```bash
cd frontend
pnpm build
```

æ„å»ºäº§ç‰©åœ¨ `frontend/dist/` ç›®å½•ã€‚

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

1. è®¾ç½®ç¯å¢ƒå˜é‡ `FLASK_ENV=production`
2. é…ç½® `JWT_SECRET_KEY` ä¸ºå¼ºå¯†é’¥
3. ä½¿ç”¨ç”Ÿäº§çº§ WSGI æœåŠ¡å™¨ï¼ˆå¦‚ Gunicornï¼‰è¿è¡Œåç«¯
4. é…ç½® Nginx åå‘ä»£ç†

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ‘¥ ä½œè€…

æ¯•ä¸šè®¾è®¡é¡¹ç›®

## ğŸ™ è‡´è°¢

- [Flask](https://flask.palletsprojects.com/)
- [Vue.js](https://vuejs.org/)
- [Vuetify](https://vuetifyjs.com/)
- [ChromaDB](https://www.trychroma.com/)

---

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æäº¤ Issue æˆ– Pull Requestã€‚

