# ä¼ä¸šçŸ¥è¯†å›¾è°±æ™ºèƒ½åŠ©æ‰‹ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯çš„ä¼ä¸šçŸ¥è¯†å›¾è°±æ™ºèƒ½åŠ©æ‰‹ç³»ç»Ÿï¼Œæ”¯æŒç”¨æˆ·è®¤è¯ã€çŸ¥è¯†åº“ç®¡ç†å’Œæ™ºèƒ½é—®ç­”åŠŸèƒ½ã€‚

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªå‰åç«¯åˆ†ç¦»çš„ä¼ä¸šçº§çŸ¥è¯†åŠ©æ‰‹ç³»ç»Ÿï¼Œé‡‡ç”¨ Flask + Vue 3 æŠ€æœ¯æ ˆæ„å»ºã€‚ç³»ç»Ÿæ”¯æŒç”¨æˆ·æ³¨å†Œç™»å½•ã€çŸ¥è¯†åº“æ–‡ä»¶ä¸Šä¼ ç®¡ç†ï¼Œä»¥åŠåŸºäºå‘é‡æ•°æ®åº“çš„æ™ºèƒ½é—®ç­”åŠŸèƒ½ã€‚é€šè¿‡ RAG æŠ€æœ¯ï¼Œç³»ç»Ÿèƒ½å¤Ÿä»ä¸Šä¼ çš„çŸ¥è¯†åº“æ–‡ä»¶ä¸­æ£€ç´¢ç›¸å…³ä¿¡æ¯ï¼Œä¸ºç”¨æˆ·çš„æé—®æä¾›æ›´å‡†ç¡®ã€æ›´æœ‰ä¾æ®çš„ç­”æ¡ˆã€‚

### æ ¸å¿ƒåŠŸèƒ½

- ğŸ” **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**ï¼šæ”¯æŒç”¨æˆ·æ³¨å†Œã€ç™»å½•ï¼Œä½¿ç”¨ JWT Tokenï¼ˆAccess Token + Refresh Tokenï¼‰è¿›è¡Œèº«ä»½éªŒè¯ï¼Œè‡ªåŠ¨åˆ·æ–° Token
- ğŸ“š **çŸ¥è¯†åº“ç®¡ç†**ï¼šæ”¯æŒå¤šç§æ ¼å¼æ–‡ä»¶ä¸Šä¼ ï¼ˆtxt, pdf, md, doc, docx, csvï¼‰ï¼Œæ–‡ä»¶åˆ—è¡¨æŸ¥çœ‹å’Œåˆ é™¤ï¼Œå®æ—¶æ˜¾ç¤ºçŸ¥è¯†åº“ç»Ÿè®¡ä¿¡æ¯
- ğŸ’¬ **æ™ºèƒ½é—®ç­”**ï¼šæ”¯æŒ RAG æ¨¡å¼å’Œé RAG æ¨¡å¼çš„æµå¼èŠå¤©ï¼Œæä¾›æ‰“å­—æœºæ•ˆæœï¼Œæ˜¾ç¤ºå‚è€ƒæ¥æº
- ğŸ¨ **ç°ä»£åŒ– UI**ï¼šåŸºäº Vuetify 3 çš„ Material Design ç•Œé¢è®¾è®¡ï¼Œå“åº”å¼å¸ƒå±€ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- ğŸ”„ **å®æ—¶åŒæ­¥**ï¼šæ”¯æŒå¤šæ ‡ç­¾é¡µç™»å½•çŠ¶æ€åŒæ­¥ï¼Œé¡µé¢å¯è§æ€§å˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–°è®¤è¯çŠ¶æ€

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯

- **æ¡†æ¶**ï¼šFlask 3.0+
- **æ•°æ®åº“**ï¼šSQLiteï¼ˆSQLAlchemy ORMï¼‰
- **è®¤è¯**ï¼šFlask-JWT-Extendedï¼ˆæ”¯æŒ Access Token å’Œ Refresh Tokenï¼‰
- **å‘é‡æ•°æ®åº“**ï¼šChromaDBï¼ˆç”¨äºå­˜å‚¨å’Œæ£€ç´¢æ–‡æ¡£å‘é‡ï¼‰
- **è·¨åŸŸ**ï¼šFlask-CORS
- **ç¯å¢ƒé…ç½®**ï¼špython-dotenv

### å‰ç«¯

- **æ¡†æ¶**ï¼šVue 3 + TypeScript
- **UI ç»„ä»¶åº“**ï¼šVuetify 3
- **è·¯ç”±**ï¼šVue Router 4
- **æ„å»ºå·¥å…·**ï¼šVite 7+
- **åŒ…ç®¡ç†å™¨**ï¼špnpm
- **çŠ¶æ€ç®¡ç†**ï¼šComposition APIï¼ˆComposablesï¼‰

## ğŸ“ é¡¹ç›®ç»“æ„

```
demo1/
â”œâ”€â”€ backend/                    # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/          # è®¤è¯ç›¸å…³è·¯ç”±ï¼ˆæ³¨å†Œã€ç™»å½•ã€ç™»å‡ºã€åˆ·æ–°Tokenï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ core/          # æ ¸å¿ƒåŠŸèƒ½è·¯ç”±ï¼ˆèŠå¤©ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ kb/            # çŸ¥è¯†åº“ç®¡ç†è·¯ç”±ï¼ˆä¸Šä¼ ã€åˆ é™¤ã€æŸ¥è¯¢ï¼‰
â”‚   â”‚   â”œâ”€â”€ config.py          # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ extensions.py      # Flask æ‰©å±•åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ middleware/        # ä¸­é—´ä»¶ï¼ˆé”™è¯¯å¤„ç†ï¼‰
â”‚   â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹ï¼ˆUserï¼‰
â”‚   â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•°ï¼ˆå“åº”ã€å¼‚å¸¸ã€éªŒè¯å™¨ï¼‰
â”‚   â”œâ”€â”€ instance/              # å®ä¾‹æ–‡ä»¶å¤¹
â”‚   â”‚   â”œâ”€â”€ demo.db            # SQLite æ•°æ®åº“
â”‚   â”‚   â””â”€â”€ chroma_db/         # ChromaDB å‘é‡æ•°æ®åº“
â”‚   â”œâ”€â”€ logs/                  # æ—¥å¿—æ–‡ä»¶
â”‚   â”œâ”€â”€ uploads/               # ä¸Šä¼ æ–‡ä»¶å­˜å‚¨
â”‚   â””â”€â”€ run.py                 # åº”ç”¨å¯åŠ¨å…¥å£
â”‚
â”œâ”€â”€ frontend/                  # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/        # ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ KnowledgeBaseSidebar.vue  # çŸ¥è¯†åº“ä¾§è¾¹æ 
â”‚   â”‚   â”œâ”€â”€ composables/       # ç»„åˆå¼å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ useAuth.ts     # è®¤è¯ç›¸å…³é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ useChat.ts     # èŠå¤©ç›¸å…³é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ useKnowledgeBase.ts  # çŸ¥è¯†åº“ç®¡ç†é€»è¾‘
â”‚   â”‚   â”‚   â””â”€â”€ useSnackbar.ts # æ¶ˆæ¯æç¤ºé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ pages/             # é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.vue       # ä¸»é¡µï¼ˆèŠå¤©ç•Œé¢ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.vue      # ç™»å½•é¡µ
â”‚   â”‚   â”‚   â””â”€â”€ Register.vue   # æ³¨å†Œé¡µ
â”‚   â”‚   â”œâ”€â”€ plugins/           # æ’ä»¶é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ vuetify.ts    # Vuetify é…ç½®
â”‚   â”‚   â”œâ”€â”€ router/            # è·¯ç”±é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ index.ts      # è·¯ç”±å®šä¹‰å’Œå®ˆå«
â”‚   â”‚   â”œâ”€â”€ types/             # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ chat.ts       # èŠå¤©ç›¸å…³ç±»å‹
â”‚   â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â””â”€â”€ api.ts        # API è¯·æ±‚å°è£…å’Œ Token ç®¡ç†
â”‚   â”‚   â””â”€â”€ styles/            # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.mts
â”‚
â”œâ”€â”€ requirements.txt           # Python ä¾èµ–
â”œâ”€â”€ .gitignore                # Git å¿½ç•¥æ–‡ä»¶
â””â”€â”€ README.md                 # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Python**ï¼š3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Node.js**ï¼š16 æˆ–æ›´é«˜ç‰ˆæœ¬
- **åŒ…ç®¡ç†å™¨**ï¼špnpmï¼ˆæ¨èï¼‰æˆ– npm/yarn

### åç«¯è®¾ç½®

1. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**ï¼ˆæ¨èï¼‰

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
python -m venv venv

# Windows
venv\Scripts\activate

# Linux/Mac
source venv/bin/activate
```

2. **å®‰è£…ä¾èµ–**

```bash
pip install -r requirements.txt
```

3. **é…ç½®ç¯å¢ƒå˜é‡**ï¼ˆå¯é€‰ï¼‰

åœ¨é¡¹ç›®æ ¹ç›®å½•æˆ– `backend` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# Flask ç¯å¢ƒ
FLASK_ENV=development

# JWT å¯†é’¥ï¼ˆç”Ÿäº§ç¯å¢ƒå¿…é¡»è®¾ç½®å¼ºå¯†é’¥ï¼‰
JWT_SECRET_KEY=your-secret-key-here-change-in-production

# æ•°æ®åº“é…ç½®
DATABASE_URL=sqlite:///demo.db

# CORS é…ç½®ï¼ˆå¤šä¸ªåŸŸåç”¨é€—å·åˆ†éš”ï¼‰
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# JWT Token è¿‡æœŸæ—¶é—´ï¼ˆå¯é€‰ï¼‰
JWT_ACCESS_TOKEN_EXPIRES_HOURS=24
JWT_REFRESH_TOKEN_EXPIRES_DAYS=30
```

> **æ³¨æ„**ï¼šå¦‚æœä¸åˆ›å»º `.env` æ–‡ä»¶ï¼Œç³»ç»Ÿä¼šä½¿ç”¨é»˜è®¤é…ç½®ã€‚ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…è®¾ç½® `JWT_SECRET_KEY`ã€‚

4. **å¯åŠ¨åç«¯æœåŠ¡**

```bash
cd backend
python run.py
```

åç«¯æœåŠ¡å°†åœ¨ `http://localhost:5000` å¯åŠ¨ã€‚

### å‰ç«¯è®¾ç½®

1. **å®‰è£…ä¾èµ–**

```bash
cd frontend
pnpm install
# æˆ–
npm install
```

2. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

```bash
pnpm dev
# æˆ–
npm run dev
```

å‰ç«¯åº”ç”¨å°†åœ¨ `http://localhost:5173` å¯åŠ¨ã€‚

3. **æ„å»ºç”Ÿäº§ç‰ˆæœ¬**

```bash
pnpm build
# æˆ–
npm run build
```

æ„å»ºäº§ç‰©åœ¨ `frontend/dist/` ç›®å½•ã€‚

## ğŸ“¡ API æ¥å£æ–‡æ¡£

### è®¤è¯æ¥å£

#### ç”¨æˆ·æ³¨å†Œ
- **URL**ï¼š`POST /api/register`
- **è®¤è¯**ï¼šä¸éœ€è¦
- **è¯·æ±‚ä½“**ï¼š
```json
{
  "username": "string",
  "email": "string",
  "password": "string"
}
```
- **å“åº”**ï¼š
```json
{
  "code": 201,
  "message": "æ³¨å†ŒæˆåŠŸ",
  "data": {
    "username": "string"
  }
}
```

#### ç”¨æˆ·ç™»å½•
- **URL**ï¼š`POST /api/login`
- **è®¤è¯**ï¼šä¸éœ€è¦
- **è¯·æ±‚ä½“**ï¼š
```json
{
  "username": "string",
  "password": "string"
}
```
- **å“åº”**ï¼š
```json
{
  "code": 200,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "access_token": "string",
    "refresh_token": "string",
    "username": "string",
    "user": {}
  }
}
```

#### åˆ·æ–° Token
- **URL**ï¼š`POST /api/refresh`
- **è®¤è¯**ï¼šéœ€è¦ Refresh Token
- **å“åº”**ï¼š
```json
{
  "code": 200,
  "message": "Tokenåˆ·æ–°æˆåŠŸ",
  "data": {
    "access_token": "string",
    "username": "string"
  }
}
```

#### ç”¨æˆ·ç™»å‡º
- **URL**ï¼š`POST /api/logout`
- **è®¤è¯**ï¼šéœ€è¦ Access Token
- **å“åº”**ï¼š
```json
{
  "code": 200,
  "message": "ç™»å‡ºæˆåŠŸ"
}
```

#### è·å–ç”¨æˆ·ä¿¡æ¯
- **URL**ï¼š`GET /api/profile`
- **è®¤è¯**ï¼šéœ€è¦ Access Token
- **å“åº”**ï¼š
```json
{
  "code": 200,
  "data": {
    "id": 1,
    "username": "string",
    "email": "string"
  }
}
```

### çŸ¥è¯†åº“æ¥å£

#### è·å–çŸ¥è¯†åº“ä¿¡æ¯
- **URL**ï¼š`GET /api/kb-info`
- **è®¤è¯**ï¼šéœ€è¦ Access Token
- **å“åº”**ï¼š
```json
{
  "code": 200,
  "data": {
    "file_count": 5,
    "vector_count": 1000,
    "files": [
      {
        "filename": "example.pdf",
        "type": "pdf",
        "upload_time": "2024-01-01T00:00:00"
      }
    ]
  }
}
```

#### ä¸Šä¼ æ–‡ä»¶
- **URL**ï¼š`POST /api/upload`
- **è®¤è¯**ï¼šéœ€è¦ Access Token
- **è¯·æ±‚**ï¼š`multipart/form-data`ï¼Œå­—æ®µåï¼š`file`
- **æ”¯æŒæ ¼å¼**ï¼štxt, pdf, md, doc, docx, csv
- **æœ€å¤§å¤§å°**ï¼š10MB
- **å“åº”**ï¼š
```json
{
  "code": 200,
  "message": "æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼Œæ­£åœ¨ç´¢å¼•"
}
```

#### åˆ é™¤æ–‡ä»¶
- **URL**ï¼š`POST /api/delete`
- **è®¤è¯**ï¼šéœ€è¦ Access Token
- **è¯·æ±‚ä½“**ï¼š
```json
{
  "filename": "example.pdf"
}
```
- **å“åº”**ï¼š
```json
{
  "code": 200,
  "message": "æ–‡ä»¶åˆ é™¤æˆåŠŸ"
}
```

### èŠå¤©æ¥å£

#### å‘é€æ¶ˆæ¯
- **URL**ï¼š`POST /api/chat`
- **è®¤è¯**ï¼šéœ€è¦ Access Token
- **è¯·æ±‚ä½“**ï¼š
```json
{
  "message": "ä½ å¥½",
  "use_rag": true
}
```
- **å“åº”**ï¼šServer-Sent Events (SSE) æµå¼å“åº”
- **å“åº”æ ¼å¼**ï¼š
```
data: {"content": "ä½ å¥½"}
data: {"content": "ï¼"}
data: {"type": "searching_end", "sources": [...]}
data: [DONE]
```

## ğŸ”§ é…ç½®è¯´æ˜

### åç«¯é…ç½®

ä¸»è¦é…ç½®æ–‡ä»¶ï¼š`backend/app/config.py`

#### æ•°æ®åº“é…ç½®
- **ç±»å‹**ï¼šSQLiteï¼ˆé»˜è®¤ï¼‰
- **ä½ç½®**ï¼š`backend/instance/demo.db`
- **è‡ªåŠ¨åˆ›å»º**ï¼šåº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»ºè¡¨ç»“æ„

#### JWT é…ç½®
- **Access Token æœ‰æ•ˆæœŸ**ï¼šé»˜è®¤ 24 å°æ—¶ï¼ˆå¯é€šè¿‡ç¯å¢ƒå˜é‡ `JWT_ACCESS_TOKEN_EXPIRES_HOURS` é…ç½®ï¼‰
- **Refresh Token æœ‰æ•ˆæœŸ**ï¼šé»˜è®¤ 30 å¤©ï¼ˆå¯é€šè¿‡ç¯å¢ƒå˜é‡ `JWT_REFRESH_TOKEN_EXPIRES_DAYS` é…ç½®ï¼‰
- **å¯†é’¥**ï¼šé€šè¿‡ç¯å¢ƒå˜é‡ `JWT_SECRET_KEY` è®¾ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒå¿…é¡»è®¾ç½®ï¼‰

#### æ–‡ä»¶ä¸Šä¼ é…ç½®
- **æœ€å¤§æ–‡ä»¶å¤§å°**ï¼š10MB
- **æ”¯æŒæ ¼å¼**ï¼štxt, pdf, md, doc, docx, csv
- **å­˜å‚¨ä½ç½®**ï¼š`backend/uploads/`

#### CORS é…ç½®
- **é»˜è®¤å…è®¸**ï¼š`http://localhost:5173`, `http://localhost:3000`
- **é…ç½®æ–¹å¼**ï¼šé€šè¿‡ç¯å¢ƒå˜é‡ `CORS_ORIGINS` è®¾ç½®ï¼ˆå¤šä¸ªåŸŸåç”¨é€—å·åˆ†éš”ï¼‰

### å‰ç«¯é…ç½®

ä¸»è¦é…ç½®æ–‡ä»¶ï¼š`frontend/vite.config.mts`

#### å¼€å‘æœåŠ¡å™¨
- **é»˜è®¤ç«¯å£**ï¼š5173
- **çƒ­æ›´æ–°**ï¼šæ”¯æŒ

#### API é…ç½®
- **åç«¯åœ°å€**ï¼š`http://localhost:5000`
- **é…ç½®ä½ç½®**ï¼š`frontend/src/utils/api.ts`

## ğŸ“ å¼€å‘è¯´æ˜

### æ•°æ®åº“åˆå§‹åŒ–

åº”ç”¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨ã€‚å¦‚éœ€é‡ç½®æ•°æ®åº“ï¼š

1. åœæ­¢åº”ç”¨
2. åˆ é™¤ `backend/instance/demo.db` æ–‡ä»¶
3. é‡æ–°å¯åŠ¨åº”ç”¨

### å‘é‡æ•°æ®åº“

ChromaDB æ•°æ®å­˜å‚¨åœ¨ `backend/instance/chroma_db/` ç›®å½•ã€‚åˆ é™¤æ­¤ç›®å½•å¯æ¸…ç©ºæ‰€æœ‰å‘é‡æ•°æ®ã€‚

### æ—¥å¿—

- **å¼€å‘ç¯å¢ƒ**ï¼šæ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°
- **ç”Ÿäº§ç¯å¢ƒ**ï¼šæ—¥å¿—æ–‡ä»¶å­˜å‚¨åœ¨ `backend/logs/app.log`

### å‰ç«¯å¼€å‘

#### Composables ä½¿ç”¨

é¡¹ç›®ä½¿ç”¨ Vue 3 Composition API çš„ Composables æ¨¡å¼ç»„ç»‡ä»£ç ï¼š

- `useAuth`ï¼šå¤„ç†ç”¨æˆ·è®¤è¯ç›¸å…³é€»è¾‘
- `useChat`ï¼šå¤„ç†èŠå¤©ç›¸å…³é€»è¾‘
- `useKnowledgeBase`ï¼šå¤„ç†çŸ¥è¯†åº“ç®¡ç†é€»è¾‘
- `useSnackbar`ï¼šå¤„ç†æ¶ˆæ¯æç¤ºé€»è¾‘

#### Token ç®¡ç†

Token ç®¡ç†å°è£…åœ¨ `frontend/src/utils/api.ts` ä¸­çš„ `tokenManager`ï¼š

- è‡ªåŠ¨ä¿å­˜å’Œè¯»å– Token
- è‡ªåŠ¨åˆ·æ–°è¿‡æœŸçš„ Access Token
- ç»Ÿä¸€å¤„ç†è®¤è¯é”™è¯¯

### ä»£ç è§„èŒƒ

- **åç«¯**ï¼šéµå¾ª PEP 8 Python ä»£ç è§„èŒƒ
- **å‰ç«¯**ï¼šä½¿ç”¨ ESLint è¿›è¡Œä»£ç æ£€æŸ¥ï¼Œè¿è¡Œ `pnpm lint` è¿›è¡Œä»£ç æ ¼å¼åŒ–

## ğŸ§ª æµ‹è¯•

### åç«¯æµ‹è¯•

```bash
cd backend
pytest
```

### å‰ç«¯æµ‹è¯•

```bash
cd frontend
pnpm test
```

### ä»£ç æ£€æŸ¥

**å‰ç«¯**ï¼š
```bash
cd frontend
pnpm lint
```

## ğŸ“¦ æ„å»ºéƒ¨ç½²

### å‰ç«¯æ„å»º

```bash
cd frontend
pnpm build
```

æ„å»ºäº§ç‰©åœ¨ `frontend/dist/` ç›®å½•ã€‚

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### åç«¯éƒ¨ç½²

1. **è®¾ç½®ç¯å¢ƒå˜é‡**
   ```bash
   export FLASK_ENV=production
   export JWT_SECRET_KEY=your-strong-secret-key-here
   ```

2. **ä½¿ç”¨ Gunicorn è¿è¡Œ**ï¼ˆæ¨èï¼‰
   ```bash
   pip install gunicorn
   cd backend
   gunicorn -w 4 -b 0.0.0.0:5000 run:app
   ```

3. **ä½¿ç”¨ Nginx åå‘ä»£ç†**
   ```nginx
   server {
       listen 80;
       server_name your-domain.com;

       location /api {
           proxy_pass http://127.0.0.1:5000;
           proxy_set_header Host $host;
           proxy_set_header X-Real-IP $remote_addr;
       }

       location / {
           root /path/to/frontend/dist;
           try_files $uri $uri/ /index.html;
       }
   }
   ```

#### å‰ç«¯éƒ¨ç½²

1. **æ„å»ºç”Ÿäº§ç‰ˆæœ¬**
   ```bash
   cd frontend
   pnpm build
   ```

2. **éƒ¨ç½²åˆ°é™æ€æœåŠ¡å™¨**
   - å°† `frontend/dist/` ç›®å½•å†…å®¹ä¸Šä¼ åˆ°é™æ€æœåŠ¡å™¨
   - é…ç½®æœåŠ¡å™¨æ”¯æŒ SPA è·¯ç”±ï¼ˆæ‰€æœ‰è·¯ç”±æŒ‡å‘ `index.html`ï¼‰

3. **é…ç½® API ä»£ç†**
   - å¦‚æœå‰åç«¯ä¸åœ¨åŒä¸€åŸŸåï¼Œéœ€è¦é…ç½® CORS
   - æˆ–ä½¿ç”¨ Nginx åå‘ä»£ç†ç»Ÿä¸€åŸŸå

## â“ å¸¸è§é—®é¢˜

### 1. åç«¯å¯åŠ¨å¤±è´¥

**é—®é¢˜**ï¼šç«¯å£è¢«å ç”¨
**è§£å†³**ï¼šä¿®æ”¹ `backend/run.py` ä¸­çš„ç«¯å£å·ï¼Œæˆ–å…³é—­å ç”¨ç«¯å£çš„ç¨‹åº

### 2. å‰ç«¯æ— æ³•è¿æ¥åç«¯

**é—®é¢˜**ï¼šCORS é”™è¯¯æˆ–åç«¯æœªå¯åŠ¨
**è§£å†³**ï¼š
- ç¡®ä¿åç«¯æœåŠ¡å·²å¯åŠ¨
- æ£€æŸ¥ `CORS_ORIGINS` é…ç½®æ˜¯å¦åŒ…å«å‰ç«¯åœ°å€
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯

### 3. Token è¿‡æœŸé—®é¢˜

**é—®é¢˜**ï¼šç™»å½•åä¸€æ®µæ—¶é—´æç¤º Token è¿‡æœŸ
**è§£å†³**ï¼šç³»ç»Ÿä¼šè‡ªåŠ¨åˆ·æ–° Tokenï¼Œå¦‚æœåˆ·æ–°å¤±è´¥ï¼Œè¯·é‡æ–°ç™»å½•

### 4. æ–‡ä»¶ä¸Šä¼ å¤±è´¥

**é—®é¢˜**ï¼šæ–‡ä»¶è¿‡å¤§æˆ–æ ¼å¼ä¸æ”¯æŒ
**è§£å†³**ï¼š
- æ£€æŸ¥æ–‡ä»¶å¤§å°æ˜¯å¦è¶…è¿‡ 10MB
- æ£€æŸ¥æ–‡ä»¶æ ¼å¼æ˜¯å¦åœ¨æ”¯æŒåˆ—è¡¨ä¸­
- æ£€æŸ¥ `backend/uploads/` ç›®å½•æƒé™

### 5. çŸ¥è¯†åº“æ£€ç´¢æ— ç»“æœ

**é—®é¢˜**ï¼šä¸Šä¼ æ–‡ä»¶åæ£€ç´¢ä¸åˆ°ç›¸å…³å†…å®¹
**è§£å†³**ï¼š
- ç¡®ä¿æ–‡ä»¶å·²æˆåŠŸä¸Šä¼ å¹¶å®Œæˆç´¢å¼•
- æ£€æŸ¥ ChromaDB æ•°æ®æ˜¯å¦æ­£å¸¸
- å°è¯•é‡æ–°ä¸Šä¼ æ–‡ä»¶

## ğŸ”’ å®‰å…¨å»ºè®®

1. **ç”Ÿäº§ç¯å¢ƒå¿…é¡»è®¾ç½®å¼ºå¯†é’¥**
   - `JWT_SECRET_KEY` åº”ä½¿ç”¨éšæœºç”Ÿæˆçš„å¼ºå¯†é’¥
   - å»ºè®®ä½¿ç”¨è‡³å°‘ 32 å­—ç¬¦çš„éšæœºå­—ç¬¦ä¸²

2. **HTTPS éƒ¨ç½²**
   - ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä½¿ç”¨ HTTPS
   - ä¿æŠ¤ Token ä¼ è¾“å®‰å…¨

3. **æ•°æ®åº“å®‰å…¨**
   - ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ PostgreSQL æˆ– MySQL
   - å®šæœŸå¤‡ä»½æ•°æ®åº“

4. **æ–‡ä»¶ä¸Šä¼ å®‰å…¨**
   - é™åˆ¶æ–‡ä»¶ç±»å‹å’Œå¤§å°
   - å¯¹ä¸Šä¼ æ–‡ä»¶è¿›è¡Œç—…æ¯’æ‰«æï¼ˆå¯é€‰ï¼‰
   - å®šæœŸæ¸…ç†æœªä½¿ç”¨çš„æ–‡ä»¶

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ‘¥ ä½œè€…

æ¯•ä¸šè®¾è®¡é¡¹ç›®

## ğŸ™ è‡´è°¢

- [Flask](https://flask.palletsprojects.com/) - Python Web æ¡†æ¶
- [Vue.js](https://vuejs.org/) - æ¸è¿›å¼ JavaScript æ¡†æ¶
- [Vuetify](https://vuetifyjs.com/) - Material Design ç»„ä»¶åº“
- [ChromaDB](https://www.trychroma.com/) - å¼€æºå‘é‡æ•°æ®åº“
- [Flask-JWT-Extended](https://flask-jwt-extended.readthedocs.io/) - JWT è®¤è¯æ‰©å±•

---

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æäº¤ Issue æˆ– Pull Requestã€‚
